{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;IAEqB,K;;;;;;;;;;;;;;;YAEb,M,EAEE,U;;;;;AAFF,sB,GAAS,OAAO,MAAP,CAAc,EAAd,EAAkB,KAAK,MAAL,CAAY,IAA9B,C;AAEP,0B,GAAa,eAAK,OAAL,CACjB,QAAQ,GAAR,EADiB,EAEjB,OAAO,QAAP,IAAmB,cAFF,C;;;AAKnB,qBAAK,GAAL,CAAS,WAAT,CAAqB,GAArB,CACE,0BACE,qBAAM,QAAQ,GAAR,EAAN,EAAqB,MAArB,CADF,CADF;;AAMA,qBAAK,GAAL,CAAS,WAAT,CAAqB,GAArB;AAAA,sEAAyB,iBAAO,GAAP,EAAY,IAAZ;AAAA;AAAA;AAAA;AAAA;AACvB,gCAAI,MAAJ,GAAa,aAAG,IAAH,CAAQ,IAAI,MAAJ,CAAW,IAAX,CAAgB,GAAhB,CAAR,CAAb;AADuB;AAAA,mCAEjB,MAFiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAzB;;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;kBAfiB,K","file":"index.js","sourcesContent":["import Base from 'magnet-core/dist/base';\nimport views from '../index.js';\nimport convert from 'koa-convert';\nimport path from 'path';\nimport co from 'co';\n\nexport default class Views extends Base {\n  async setup() {\n    let config = Object.assign({}, this.config.view);\n\n    const folderPath = path.resolve(\n      process.cwd(),\n      config.viewPath || 'server/views'\n    );\n\n    this.app.application.use(\n      convert(\n        views(process.cwd(), config)\n      )\n    );\n\n    this.app.application.use(async (ctx, next) => {\n      ctx.render = co.wrap(ctx.render.bind(ctx));\n      await next();\n    });\n  }\n}\n"]}